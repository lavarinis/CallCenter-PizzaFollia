import _classCallCheck from"@babel/runtime/helpers/classCallCheck";import _createClass from"@babel/runtime/helpers/createClass";var SharedElementSceneData=function(){function SharedElementSceneData(Component,navigation){_classCallCheck(this,SharedElementSceneData);this.updateSubscribers=new Set();this.ancestorNode=undefined;this.nodes={};this.Component=Component;this.navigation=navigation;this.name=Component.displayName||Component.name||(Component.constructor?Component.constructor.name:undefined)||'';}_createClass(SharedElementSceneData,[{key:"getAncestor",value:function getAncestor(){return this.ancestorNode;}},{key:"setAncestor",value:function setAncestor(ancestorNode){if(this.ancestorNode===ancestorNode)return;this.ancestorNode=ancestorNode||undefined;this.emitUpdateEvent('ancestor',this.ancestorNode,'');}},{key:"addNode",value:function addNode(id,node){this.nodes[id]=node;this.emitUpdateEvent('add',node,id);}},{key:"removeNode",value:function removeNode(id,node){delete this.nodes[id];this.emitUpdateEvent('remove',node,id);}},{key:"getNode",value:function getNode(id){return this.nodes[id];}},{key:"addUpdateListener",value:function addUpdateListener(handler){var _this=this;this.updateSubscribers.add(handler);return{remove:function remove(){return _this.updateSubscribers.delete(handler);}};}},{key:"emitUpdateEvent",value:function emitUpdateEvent(eventType,node,id){this.updateSubscribers.forEach(function(handler){return handler(eventType,node,id);});}}]);return SharedElementSceneData;}();export{SharedElementSceneData as default};
//# sourceMappingURL=SharedElementSceneData.js.map