import _extends from"@babel/runtime/helpers/extends";import _objectWithoutProperties from"@babel/runtime/helpers/objectWithoutProperties";import _classCallCheck from"@babel/runtime/helpers/classCallCheck";import _createClass from"@babel/runtime/helpers/createClass";import _possibleConstructorReturn from"@babel/runtime/helpers/possibleConstructorReturn";import _getPrototypeOf from"@babel/runtime/helpers/getPrototypeOf";import _inherits from"@babel/runtime/helpers/inherits";var _jsxFileName="/Users/hein/repos/react/react-navigation-sharedelement/src/SharedElement.tsx";import*as React from'react';import{SharedElement as RawSharedElement}from'react-native-shared-element';import SharedElementSceneContext from'./SharedElementSceneContext';var SharedElement=function(_React$Component){_inherits(SharedElement,_React$Component);function SharedElement(props){var _this;_classCallCheck(this,SharedElement);_this=_possibleConstructorReturn(this,_getPrototypeOf(SharedElement).call(this,props));_this.node=null;_this.sharedId='';_this.sceneData=null;_this.onSetNode=function(node){if(_this.node===node){return;}if(_this.sceneData&&_this.node&&_this.sharedId){_this.sceneData.removeNode(_this.sharedId,_this.node);}_this.node=node;if(_this.sceneData&&_this.node&&_this.sharedId){_this.sceneData.addNode(_this.sharedId,_this.node);}_this.node=node;};_this.sharedId=props.id;return _this;}_createClass(SharedElement,[{key:"render",value:function render(){var _this2=this;var _this$props=this.props,id=_this$props.id,otherProps=_objectWithoutProperties(_this$props,["id"]);return React.createElement(SharedElementSceneContext.Consumer,{__source:{fileName:_jsxFileName,lineNumber:29}},function(sceneData){_this2.sceneData=sceneData;return React.createElement(RawSharedElement,_extends({},otherProps,{onNode:_this2.onSetNode,__source:{fileName:_jsxFileName,lineNumber:36}}));});}},{key:"componentDidUpdate",value:function componentDidUpdate(){var id=this.props.id;if(this.sharedId!==id){if(this.sceneData&&this.sharedId&&this.node){this.sceneData.removeNode(this.sharedId,this.node);}this.sharedId=id;if(this.sceneData&&this.sharedId&&this.node){this.sceneData.addNode(this.sharedId,this.node);}}}}]);return SharedElement;}(React.Component);export default SharedElement;
//# sourceMappingURL=SharedElement.js.map